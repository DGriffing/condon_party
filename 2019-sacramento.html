<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Diana Condon">
    <meta name="description" content="The Condon Sacramento Celebration">
    <title>The Condon Wedding - Sacramento</title>
    <link rel="stylesheet" href="css/main.css"/>
	<link rel="icon" type="png" href="img/animojis.png">
</head>
<body>
    <div class="content">
        <!-- HEADER -->
        <div class="sac-header">
            <h1>Logan &amp; Diana's Sacramento Celebration!</h1>
        </div>

        <div class="us">
            <img class="us-image" src="img/animojis@4x.png"/>
        </div>

        <div class="join">
            <h2>Join Us</h2>
            <p class="where">
                4pm,  June 14 2019
                <br>
                Sacramento, California
            <p>
        </div>


       <div class="rsvp">
           <h2>R S V P</h2>
           <div class="rsvp-form">
                <form name="submit-to-google-sheet" enctype="text/plain">
                    <div class="row">
                    <div class="col-25">
                        <label for="fname">First Name</label>
                    </div>
                    <div class="col-75">
                        <input type="text" id="fname" name="firstname" placeholder="Your first name.." required>
                    </div>
                    </div>
                    <div class="row">
                    <div class="col-25">
                        <label for="lname">Last Name</label>
                    </div>
                    <div class="col-75">
                        <input type="text" id="lname" name="lastname" placeholder="Your last name.." required>
                    </div>
                    </div>

                    <div class="row">
                    <div class="col-25">
                        <label for="attending">Attending?</label>
                    </div>
                    <div class="col-75">
                        <input type="radio" name="attending" value="YES"> Accept with pleasure<br>
                        <input type="radio" name="attending" value="no"> Decline with regret<br>
                        <!--<select id="attending" name="attending">
                        <option value="yes">Accepts with pleasure</option>
                        <option value="no">Declines with regret</option>
                        </select>-->
                    </div>
                    </div>

                    <div class="row">
                    <div class="col-25">
                        <label for="dietary">Dietary Restrictions</label>
                    </div>
                    <div class="col-75">
                        <select name="dietary" id="dietary" onchange='CheckDiet(this.value);'>
                        <option value="none">None</option>
                        <option value="vegetarian">Vegetarian</option>
                        <option value="vegan">Vegan</option>
                        <option value="pescatarian">Pescatarian</option>
                        <option value="glutenfree">Gluten Free</option>
                        <option value="allergies">Allergies / Other</option>
                        </select>
                        <input type="text" name="allergies" id="allergies" placeholder="I avoid _____" style='display:none;'/>
                    </div>
                    </div>
                    <div class="row">
                    <div class="col-25">
                        <label for="song">Song Requests</label>
                    </div>
                    <div class="col-75">
                        <textarea id="song" name="song" placeholder="Any jams that NEED to be on our playlist?" style="height:100px"></textarea>
                    </div>
                    </div>
                    <div class="row">
                        <div class="buttons">
                        <input class="button" type="submit" value="Send" id="left-button" onclick="confirmation()">
                        <input class="button" type="reset" value="Reset" id="right-button">
                        </div>
                    </div>
                </form>

                <script>
                    const scriptURL = 'https://script.google.com/macros/s/AKfycbxXyb_UBfSNKtxIrlbxPVqW9ureObhs3IQpvtYXhGsTKZftV0s/exec'
                    const form = document.forms['submit-to-google-sheet']

                    form.addEventListener('submit', e => {
                        e.preventDefault()
                        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                        .then(response => console.log('Success!', response))
                        .catch(error => console.error('Error!', error.message))
                    })

                    function CheckDiet(val){
                        var element=document.getElementById('allergies');
                        if(val=='allergies'){
                            element.style.display='block';
                            element.style.paddingTop='8px';

                            element.style.marginTop='8px';
                        }
                        else  {
                            element.style.display='none';
                        }
                    }

                    function confirmation() {
                        confirm("All set! See you there!");
                    }
                </script>
           </div>
       </div>
       <div class="details">
            <h2>Details</h2>
            <p> 
                Registry: <a href="https://www.zola.com/registry/condons">www.zola.com/condons</a>
            </p>
            <p>
                Questions: <a href="mailto:37condons@gmail.com">37condons@gmail.com</a>
            </p>
       </div>
    </div>
    <footer class="footer">
        <div>
            crafted with love by Diana Condon
            <img class="footer-logo" src="img/pinecone.png"/>
        </div>
    </footer>
</body>
</html>




